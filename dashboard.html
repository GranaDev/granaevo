<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--
      ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
      ‚ïë  CORRE√á√ÉO 1 ‚Äî Content Security Policy (CSP)                 ‚ïë
      ‚ïë  Bloqueia execu√ß√£o de scripts inline n√£o autorizados,       ‚ïë
      ‚ïë  carregamento de recursos externos n√£o listados e           ‚ïë
      ‚ïë  ataques de clickjacking via frame-ancestors 'none'.        ‚ïë
      ‚ïë  Ajuste as origens conforme seu ambiente de produ√ß√£o.       ‚ïë
      ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
    -->
    <meta http-equiv="Content-Security-Policy"
          content="
            default-src 'self';
            script-src 'self'
                        https://cdn.jsdelivr.net
                        https://cdnjs.cloudflare.com
                        https://fonts.googleapis.com;
            style-src  'self' 'unsafe-inline'
                        https://fonts.googleapis.com
                        https://cdnjs.cloudflare.com;
            font-src   'self'
                        https://fonts.gstatic.com
                        https://cdnjs.cloudflare.com;
            img-src    'self' data: blob:
                        https://fvrhqqeofqedmhadzzqw.supabase.co
                        https://logospng.org
                        https://cdn-icons-png.flaticon.com;
            connect-src 'self'
                        https://fvrhqqeofqedmhadzzqw.supabase.co;
            frame-ancestors 'none';
            base-uri   'self';
            form-action 'self';
          ">

    <!--
      CORRE√á√ÉO 2 ‚Äî Impede clickjacking com X-Frame-Options
      (reforce tamb√©m no servidor/Nginx/Vercel headers)
    -->
    <meta http-equiv="X-Frame-Options" content="DENY">

    <!--
      CORRE√á√ÉO 3 ‚Äî Impede MIME-sniffing
    -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">

    <!--
      CORRE√á√ÉO 4 ‚Äî Referrer controlado: n√£o vaza URL interna
    -->
    <meta name="referrer" content="strict-origin-when-cross-origin">

    <title>Dashboard - GranaEvo</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="graficos.css">
    <link rel="stylesheet" href="chat-assistant.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@700;800&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script type="module" src="supabase-client.js"></script>
    <script type="module" src="data-manager.js"></script>
    <script type="module" src="auth-guard.js"></script>

    <style>
        .auth-loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a0f1a;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            flex-direction: column;
        }

        .auth-loading .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(16, 185, 129, 0.3);
            border-top-color: #10b981;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .auth-loading p {
            color: #10b981;
            margin-top: 20px;
            font-size: 16px;
        }
    </style>
</head>
<body>

    <!-- LOADING DE AUTENTICA√á√ÉO -->
    <div class="auth-loading" id="authLoading">
        <div class="spinner"></div>
        <p>üîí Verificando acesso...</p>
    </div>

    <!--
      CORRE√á√ÉO 5 ‚Äî Conte√∫do protegido come√ßa oculto via CSS,
      n√£o apenas via atributo inline.
      O JS s√≥ o exibe DEPOIS da verifica√ß√£o bem-sucedida,
      nunca no bloco finally (ver corre√ß√£o no JS).
    -->
    <div id="protectedContent" style="display:none;">

        <!-- ========== SELE√á√ÉO DE PERFIS ========== -->
        <div id="selecaoPerfis" class="perfis-screen">
            <div class="perfis-container">
                <!--
                  CORRE√á√ÉO 6 ‚Äî Sauda√ß√£o usa <span> com textContent
                  via JS (sem innerHTML), eliminando XSS.
                  Estrutura fixa; apenas os <span> internos recebem texto.
                -->
                <h1 class="perfis-title">
                    Ol√° <span id="saudacaoNome"></span>
                    ‚Äì Plano <span id="saudacaoPlano"></span>
                </h1>
                <div id="listaPerfis" class="perfis-grid"></div>
            </div>
        </div>

        <!-- ========== BOT√ÉO MOBILE (FORA DA SIDEBAR) ========== -->
        <button class="sidebar-toggle" id="sidebarToggle" aria-label="Abrir menu lateral">
            <span class="hamburger"></span>
        </button>

        <!-- ========== SIDEBAR ========== -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-img-wrapper">
                        <img src="icon/granaevo-logo.jpg" alt="GranaEvo" class="logo-img">
                    </div>
                    <span class="logo-text">GranaEvo</span>
                </div>
            </div>

            <div class="sidebar-user">
                <!--
                  CORRE√á√ÉO 7 ‚Äî src padr√£o √© SVG inline data-URI;
                  o JS valida a URL da foto antes de atribuir ao src
                  (ver sanitizarUrlFoto() no JS).
                -->
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80'%3E%3Ccircle cx='40' cy='40' r='40' fill='%2310b981'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='32' fill='white'%3EU%3C/text%3E%3C/svg%3E"
                     alt="Foto de perfil"
                     id="userPhoto"
                     class="user-photo">
                <div class="user-info">
                    <!-- textContent definido via JS ‚Äî sem innerHTML -->
                    <div class="user-name" id="userName"></div>
                    <div class="user-plan" data-user-plan></div>
                </div>
                <label for="photoUpload" class="photo-upload-btn" aria-label="Alterar foto">
                    <i class="fas fa-camera"></i>
                </label>
                <input type="file" id="photoUpload" accept="image/jpeg,image/png,image/webp" style="display:none;">
            </div>

            <nav class="sidebar-nav" aria-label="Navega√ß√£o principal">
                <button class="nav-btn active" data-page="dashboard" type="button">
                    <span class="nav-icon"><i class="fas fa-chart-line" aria-hidden="true"></i></span>
                    <span class="nav-text">Dashboard</span>
                </button>
                <button class="nav-btn" data-page="transacoes" type="button">
                    <span class="nav-icon"><i class="fas fa-credit-card" aria-hidden="true"></i></span>
                    <span class="nav-text">Transa√ß√µes</span>
                </button>
                <button class="nav-btn" data-page="reservas" type="button">
                    <span class="nav-icon"><i class="fas fa-bullseye" aria-hidden="true"></i></span>
                    <span class="nav-text">Reservas</span>
                </button>
                <button class="nav-btn" data-page="cartoes" type="button">
                    <span class="nav-icon"><i class="fas fa-gem" aria-hidden="true"></i></span>
                    <span class="nav-text">Cart√µes</span>
                </button>
                <button class="nav-btn" data-page="graficos" type="button">
                    <span class="nav-icon"><i class="fas fa-chart-bar" aria-hidden="true"></i></span>
                    <span class="nav-text">Gr√°ficos</span>
                </button>
                <button class="nav-btn" data-page="relatorios" type="button">
                    <span class="nav-icon"><i class="fas fa-file-alt" aria-hidden="true"></i></span>
                    <span class="nav-text">Relat√≥rios</span>
                </button>
                <button class="nav-btn" data-page="configuracoes" type="button">
                    <span class="nav-icon"><i class="fas fa-cog" aria-hidden="true"></i></span>
                    <span class="nav-text">Configura√ß√µes</span>
                </button>
            </nav>
        </aside>

        <!-- ========== MAIN CONTENT ========== -->
        <main class="main-content" id="mainContent">

            <!-- DASHBOARD -->
            <section class="page active" id="dashboardPage">
                <div class="page-header-premium">
                    <div class="header-content">
                        <div class="header-title-group">
                            <div class="breadcrumb-premium">
                                <a href="dashboard.html">In√≠cio</a>
                                <span class="separator">‚Ä∫</span>
                                <span>Dashboard</span>
                            </div>
                            <h1 class="page-title-premium">
                                <i class="fas fa-chart-line" aria-hidden="true"></i> Dashboard
                            </h1>
                            <p class="page-subtitle-premium">Vis√£o geral completa das suas finan√ßas</p>
                        </div>
                        <div class="header-actions"></div>
                    </div>
                </div>

                <div class="cards-grid">
                    <div class="card card-green">
                        <div class="card-icon"><i class="fas fa-arrow-up" aria-hidden="true"></i></div>
                        <div class="card-content">
                            <div class="card-label">Entradas</div>
                            <div class="card-value" id="totalEntradas">R$ 0,00</div>
                        </div>
                    </div>
                    <div class="card card-red">
                        <div class="card-icon"><i class="fas fa-arrow-down" aria-hidden="true"></i></div>
                        <div class="card-content">
                            <div class="card-label">Sa√≠das</div>
                            <div class="card-value" id="totalSaidas">R$ 0,00</div>
                        </div>
                    </div>
                    <div class="card card-blue">
                        <div class="card-icon"><i class="fas fa-wallet" aria-hidden="true"></i></div>
                        <div class="card-content">
                            <div class="card-label">Saldo</div>
                            <div class="card-value" id="totalSaldo">R$ 0,00</div>
                        </div>
                    </div>
                    <div class="card card-yellow">
                        <div class="card-icon"><i class="fas fa-piggy-bank" aria-hidden="true"></i></div>
                        <div class="card-content">
                            <div class="card-label">Reservas</div>
                            <div class="card-value" id="totalReservas">R$ 0,00</div>
                        </div>
                    </div>
                </div>

                <div class="section-box">
                    <div class="section-header">
                        <h2 class="section-title">
                            <i class="fas fa-file-invoice-dollar" aria-hidden="true"></i> Contas Fixas
                        </h2>
                        <!--
                          CORRE√á√ÉO 8 ‚Äî Bot√µes de a√ß√£o sem handlers inline.
                          Todos os eventos s√£o registrados via addEventListener no JS.
                        -->
                        <button class="btn-primary" id="btnNovaContaFixa" type="button">
                            <i class="fas fa-plus" aria-hidden="true"></i> Nova Conta
                        </button>
                    </div>
                    <div id="listaContasFixas" class="contas-grid">
                        <p class="empty-state">Nenhuma conta fixa cadastrada.</p>
                    </div>
                </div>

                <!--
                  CORRE√á√ÉO 9 ‚Äî Removidos handlers onclick/onmouseover/onmouseout inline.
                  O efeito hover √© feito via CSS; o clique via addEventListener no JS.
                -->
                <div class="section-box onde-foi-dinheiro-card" id="btnOndeForDinheiro"
                     role="button"
                     tabindex="0"
                     aria-label="Abrir an√°lise: Onde foi meu dinheiro?">
                    <div style="font-size:3rem; margin-bottom:12px;">üí∏</div>
                    <h3 style="margin-bottom:8px; color:var(--text-primary);">Onde Foi Meu Dinheiro?</h3>
                    <p style="color:var(--text-secondary); font-size:0.9rem; margin-bottom:16px;">
                        Descubra para onde seus gastos est√£o indo com an√°lise inteligente
                    </p>
                    <span class="btn-primary">üîç Analisar Agora</span>
                </div>
            </section>

            <!-- TRANSA√á√ïES -->
            <section class="page" id="transacoesPage">
                <div class="page-header-premium">
                    <div class="header-content">
                        <div class="header-title-group">
                            <div class="breadcrumb-premium">
                                <a href="dashboard.html">In√≠cio</a>
                                <span class="separator">‚Ä∫</span>
                                <span>Transa√ß√µes</span>
                            </div>
                            <h1 class="page-title-premium">
                                <i class="fas fa-credit-card" aria-hidden="true"></i> Transa√ß√µes
                            </h1>
                            <p class="page-subtitle-premium">
                                Registre e gerencie todas as suas movimenta√ß√µes financeiras
                            </p>
                        </div>
                    </div>
                </div>

                <div class="transaction-form">
                    <select id="selectCategoria" class="form-input" aria-label="Categoria da transa√ß√£o">
                        <option value="">Selecione a categoria</option>
                        <option value="entrada">Entrada</option>
                        <option value="saida">Sa√≠da</option>
                        <option value="reserva">Reserva</option>
                        <option value="saida_credito">Sa√≠da no Cr√©dito</option>
                    </select>

                    <select id="selectTipo" class="form-input" aria-label="Tipo da transa√ß√£o">
                        <option value="">Selecione o tipo</option>
                    </select>

                    <input type="text"
                           id="inputDescricao"
                           class="form-input"
                           placeholder="Descri√ß√£o"
                           maxlength="200"
                           autocomplete="off">
                    <input type="number"
                           id="inputValor"
                           class="form-input"
                           placeholder="Valor (R$)"
                           step="0.01"
                           min="0"
                           max="9999999.99">

                    <div id="creditoFields" style="display:none;">
                        <select id="selectCartao" class="form-input" aria-label="Cart√£o de cr√©dito">
                            <option value="">Selecione o cart√£o</option>
                        </select>
                        <select id="selectParcelas" class="form-input" aria-label="N√∫mero de parcelas">
                            <option value="1">1x</option>
                        </select>
                    </div>

                    <button class="btn-primary btn-large" id="btnLancar" type="button">
                        Lan√ßar Transa√ß√£o
                    </button>
                </div>

                <div class="section-box">
                    <h2 class="section-title">
                        <i class="fas fa-list" aria-hidden="true"></i> Movimenta√ß√µes
                    </h2>
                    <div id="listaMovimentacoes" class="movimentacoes-list">
                        <p class="empty-state">Nenhuma movimenta√ß√£o registrada.</p>
                    </div>
                </div>
            </section>

            <!-- RESERVAS -->
            <section class="page" id="reservasPage">
                <div class="page-header-premium">
                    <div class="header-content">
                        <div class="header-title-group">
                            <div class="breadcrumb-premium">
                                <a href="dashboard.html">In√≠cio</a>
                                <span class="separator">‚Ä∫</span>
                                <span>Reservas</span>
                            </div>
                            <h1 class="page-title-premium">
                                <i class="fas fa-bullseye" aria-hidden="true"></i> Reservas
                            </h1>
                            <p class="page-subtitle-premium">
                                Organize e acompanhe suas reservas e objetivos financeiros
                            </p>
                        </div>
                    </div>
                    <div class="header-stats">
                        <div class="header-stat-item">
                            <span class="header-stat-label">Total Reservado</span>
                            <span class="header-stat-value" id="headerTotalReservas">R$ 0,00</span>
                        </div>
                        <div class="header-stat-item">
                            <span class="header-stat-label">Reservas Ativas</span>
                            <span class="header-stat-value" id="headerQtdReservas">0</span>
                        </div>
                    </div>
                </div>

                <div class="reservas-layout">
                    <div class="reservas-sidebar">
                        <div class="section-header">
                            <h3>Lista de Reservas</h3>
                            <button class="btn-primary" id="btnNovaMeta" type="button">
                                <i class="fas fa-plus" aria-hidden="true"></i> Nova Reserva
                            </button>
                        </div>
                        <div id="listaMetas" class="metas-list">
                            <p class="empty-state">Nenhuma reserva criada.</p>
                        </div>
                    </div>

                    <div class="reservas-main">
                        <div class="meta-visual">
                            <div class="charts-container">
                                <div class="chart-wrapper">
                                    <canvas id="donutChart" width="180" height="180"></canvas>
                                    <div id="metaProgress" class="meta-progress-text">
                                        Selecione uma reserva
                                    </div>
                                </div>
                                <div class="chart-wrapper">
                                    <canvas id="lineChart" width="400" height="200"></canvas>
                                </div>
                            </div>
                            <div id="metaDetalhes" class="meta-details"></div>
                            <button class="btn-warning" id="btnRetirar" type="button" style="display:none;">
                                Retirar Dinheiro
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CART√ïES -->
            <section class="page" id="cartoesPage">
                <div class="page-header-premium">
                    <div class="header-content">
                        <div class="header-title-group">
                            <div class="breadcrumb-premium">
                                <a href="dashboard.html">In√≠cio</a>
                                <span class="separator">‚Ä∫</span>
                                <span>Cart√µes</span>
                            </div>
                            <h1 class="page-title-premium">
                                <i class="fas fa-credit-card" aria-hidden="true"></i> Cart√µes
                            </h1>
                            <p class="page-subtitle-premium">
                                Controle total dos seus cart√µes de cr√©dito e faturas
                            </p>
                        </div>
                    </div>
                </div>
                <div id="cartoesGrid" class="cartoes-grid"></div>
            </section>

            <!-- GR√ÅFICOS -->
            <section class="page" id="graficosPage">
                <div class="page-header-premium">
                    <div class="header-content">
                        <div class="header-title-group">
                            <div class="breadcrumb-premium">
                                <a href="dashboard.html">In√≠cio</a>
                                <span class="separator">‚Ä∫</span>
                                <span>Gr√°ficos</span>
                            </div>
                            <h1 class="page-title-premium">
                                <i class="fas fa-chart-pie" aria-hidden="true"></i> An√°lise Financeira
                            </h1>
                            <p class="page-subtitle-premium">
                                Visualize seus dados de forma inteligente e profissional
                            </p>
                        </div>
                    </div>
                </div>

                <div class="graficos-filtros">
                    <div class="view-type-btns">
                        <button class="view-btn active" data-tipo="individual" type="button">
                            <i class="fas fa-user" aria-hidden="true"></i> Individual
                        </button>
                        <button class="view-btn" data-tipo="casal" type="button">
                            <i class="fas fa-heart" aria-hidden="true"></i> Casal
                        </button>
                        <button class="view-btn" data-tipo="familia" type="button">
                            <i class="fas fa-users" aria-hidden="true"></i> Fam√≠lia
                        </button>
                    </div>

                    <div class="comparacao-toggle">
                        <label>
                            <input type="checkbox" id="toggleComparacao">
                            <i class="fas fa-balance-scale" aria-hidden="true"></i>
                            Ativar Gr√°ficos Comparativos
                        </label>
                    </div>

                    <div class="filtros-row">
                        <div class="filtro-group">
                            <label class="filtro-label" for="mesGrafico">M√™s</label>
                            <select id="mesGrafico" class="filtro-select"></select>
                        </div>
                        <div class="filtro-group">
                            <label class="filtro-label" for="anoGrafico">Ano</label>
                            <select id="anoGrafico" class="filtro-select"></select>
                        </div>
                    </div>

                    <div id="comparacaoContainer" class="comparacao-filtros">
                        <h4 style="color: var(--text-primary); margin-bottom: 16px; text-align: center;">
                            <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                            Selecione o Per√≠odo para Comparar
                        </h4>
                        <div class="filtros-row">
                            <div class="filtro-group">
                                <label class="filtro-label" for="mesComparacao">M√™s de Compara√ß√£o</label>
                                <select id="mesComparacao" class="filtro-select"></select>
                            </div>
                            <div class="filtro-group">
                                <label class="filtro-label" for="anoComparacao">Ano de Compara√ß√£o</label>
                                <select id="anoComparacao" class="filtro-select"></select>
                            </div>
                        </div>
                    </div>

                    <!--
                      CORRE√á√ÉO 10 ‚Äî Removido onclick inline.
                      Evento registrado via addEventListener no JS (id="btnGerarGraficos").
                    -->
                    <button class="btn-primary btn-large" id="btnGerarGraficos" type="button"
                            style="margin-top: 20px;">
                        <i class="fas fa-chart-area" aria-hidden="true"></i> Gerar Gr√°ficos
                    </button>
                </div>

                <div class="graficos-container">
                    <div id="graficosConteudo"></div>
                </div>
            </section>

            <!-- RELAT√ìRIOS -->
            <section class="page" id="relatoriosPage">
                <div class="page-header-premium">
                    <div class="header-content">
                        <div class="header-title-group">
                            <div class="breadcrumb-premium">
                                <a href="dashboard.html">In√≠cio</a>
                                <span class="separator">‚Ä∫</span>
                                <span>Relat√≥rios</span>
                            </div>
                            <h1 class="page-title-premium">
                                <i class="fas fa-chart-line" aria-hidden="true"></i> Relat√≥rios
                            </h1>
                            <p class="page-subtitle-premium">
                                An√°lises detalhadas e insights sobre suas finan√ßas
                            </p>
                        </div>
                    </div>
                </div>

                <div class="filtros-box">
                    <div class="tipo-relatorio-btns">
                        <button class="tipo-btn active" data-tipo="individual" type="button">
                            <i class="fas fa-user" aria-hidden="true"></i> Individual
                        </button>
                        <button class="tipo-btn" data-tipo="casal" type="button">
                            <i class="fas fa-heart" aria-hidden="true"></i> Casal
                        </button>
                        <button class="tipo-btn" data-tipo="familia" type="button">
                            <i class="fas fa-users" aria-hidden="true"></i> Fam√≠lia
                        </button>
                    </div>

                    <div id="perfilSelectorDiv" class="perfil-selector">
                        <label for="selectPerfilRelatorio" class="sr-only">Selecione o perfil</label>
                        <select id="selectPerfilRelatorio" class="form-input">
                            <option value="">Selecione o perfil</option>
                        </select>
                    </div>

                    <div class="filtros-row">
                        <label for="mesRelatorio" class="sr-only">M√™s</label>
                        <select id="mesRelatorio" class="form-input">
                            <option value="">M√™s</option>
                        </select>
                        <label for="anoRelatorio" class="sr-only">Ano</label>
                        <select id="anoRelatorio" class="form-input">
                            <option value="">Ano</option>
                        </select>
                    </div>
                    <button class="btn-primary btn-large" id="btnGerarRelatorio" type="button">
                        Gerar Relat√≥rio
                    </button>
                </div>

                <div id="relatorioResultado" style="display:none;"></div>
            </section>

            <!-- CONFIGURA√á√ïES -->
            <section class="page" id="configuracoesPage">
                <div class="page-header-premium">
                    <div class="header-content">
                        <div class="header-title-group">
                            <div class="breadcrumb-premium">
                                <a href="dashboard.html">In√≠cio</a>
                                <span class="separator">‚Ä∫</span>
                                <span>Configura√ß√µes</span>
                            </div>
                            <h1 class="page-title-premium">
                                <i class="fas fa-cog" aria-hidden="true"></i> Configura√ß√µes
                            </h1>
                            <p class="page-subtitle-premium">
                                Personalize sua experi√™ncia no GranaEvo
                            </p>
                        </div>
                    </div>
                </div>

                <div class="config-grid">
                    <button class="config-card" id="btnAlterarNome" type="button">
                        <div class="config-icon"><i class="fas fa-user" aria-hidden="true"></i></div>
                        <div class="config-text">
                            <h3>Alterar Nome</h3>
                            <p>Mude seu nome ou apelido</p>
                        </div>
                        <span class="config-arrow" aria-hidden="true">‚Üí</span>
                    </button>

                    <button class="config-card" id="btnAlterarEmail" type="button">
                        <div class="config-icon"><i class="fas fa-user-plus" aria-hidden="true"></i></div>
                        <div class="config-text">
                            <h3>Convidar Usu√°rio</h3>
                            <p>Compartilhe o acesso √† sua conta com amigos e familiares</p>
                        </div>
                        <span class="config-arrow" aria-hidden="true">‚Üí</span>
                    </button>

                    <button class="config-card" id="btnAlterarSenha" type="button">
                        <div class="config-icon"><i class="fas fa-lock" aria-hidden="true"></i></div>
                        <div class="config-text">
                            <h3>Alterar Senha</h3>
                            <p>Defina uma nova senha</p>
                        </div>
                        <span class="config-arrow" aria-hidden="true">‚Üí</span>
                    </button>

                    <button class="config-card" id="btnTrocarPerfil" type="button">
                        <div class="config-icon"><i class="fas fa-sync-alt" aria-hidden="true"></i></div>
                        <div class="config-text">
                            <h3>Trocar Perfil</h3>
                            <p>Alternar entre perfis</p>
                        </div>
                        <span class="config-arrow" aria-hidden="true">‚Üí</span>
                    </button>

                    <button class="config-card" id="btnComoUsar" type="button">
                        <div class="config-icon"><i class="fas fa-question-circle" aria-hidden="true"></i></div>
                        <div class="config-text">
                            <h3>Como Usar</h3>
                            <p>Guia do GranaEvo</p>
                        </div>
                        <span class="config-arrow" aria-hidden="true">‚Üí</span>
                    </button>

                    <button class="config-card" id="btnDownload" type="button">
                        <div class="config-icon"><i class="fas fa-download" aria-hidden="true"></i></div>
                        <div class="config-text">
                            <h3>Download</h3>
                            <p>Fa√ßa o download e tenha f√°cil acesso</p>
                        </div>
                        <span class="config-arrow" aria-hidden="true">‚Üí</span>
                    </button>

                    <button class="config-card" id="btnUpgradePlano" type="button">
                        <div class="config-icon"><i class="fas fa-star" aria-hidden="true"></i></div>
                        <div class="config-text">
                            <h3>Upgrade de plano</h3>
                            <p>Tenha mais perfis</p>
                        </div>
                        <span class="config-arrow" aria-hidden="true">‚Üí</span>
                    </button>

                    <button class="config-card config-danger" id="btnLogout" type="button">
                        <div class="config-icon"><i class="fas fa-sign-out-alt" aria-hidden="true"></i></div>
                        <div class="config-text">
                            <h3>Sair / Logout</h3>
                            <p>Encerrar sess√£o</p>
                        </div>
                        <span class="config-arrow" aria-hidden="true">‚Üí</span>
                    </button>
                </div>
            </section>

        </main>
    </div><!-- /#protectedContent -->

    <!-- MODAL/POPUP -->
    <div id="modalOverlay" class="modal-overlay" role="dialog" aria-modal="true" aria-hidden="true"></div>
    <div id="modalContainer" aria-live="polite"></div>

    <!-- Scripts do Sistema -->
    <script type="module" src="dashboard.js"></script>
    <script type="module" src="chat-assistant.js"></script>
    <script src="graficos.js"></script>
</body>
</html>